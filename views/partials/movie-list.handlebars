{{! movie-list.handlebars }}
<ul>
  {{#each movies}}
    <li>
      <strong>{{Name}}</strong> ({{Year}}) â€” {{category}}
      <p>{{Description}}</p>

      <!-- Toggle button for form -->
      <button onclick="toggleReviewForm('{{_id}}')">Write Review</button>
      <!-- Toggle button for list-->
      <button onclick="toggleReviewList('{{_id}}')">Show Reviews</button>
      <!-- Container for the form -->
      <div id="review-form-{{_id}}" class="review-form-container hidden">
        {{> review-form movieId=_id }}
      </div>
      <!-- Container for the list -->
      <div id="review-list-{{_id}}" class="review-list-container hidden">
        {{!-- i need to use ../reviews to access the parent context. In this case all of the reviews outside this loop--}}
        {{> review-list reviews=../reviews movieId=_id }}
      </div>

    </li>
  {{/each}}
</ul>


{{!-- In your main layout (or directly in your Handlebars file), include a small script to toggle the form: --}}
<script>
  function toggleReviewForm(movieId) {
    const form = document.getElementById(`review-form-${movieId}`);
    form.classList.toggle('hidden');
  }
    function toggleReviewList(movieId) {
    const list = document.getElementById(`review-list-${movieId}`);
    list.classList.toggle('hidden');
  }
</script>

<style>
  .hidden {
    display: none;
  }
</style>
